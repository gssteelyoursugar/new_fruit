(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesIII/submitOrder/submitOrder"],{296:
/*!*************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/main.js?{"page":"pagesIII%2FsubmitOrder%2FsubmitOrder"} ***!
  \*************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){e(/*! uni-pages */4);a(e(/*! vue */2));var n=a(e(/*! ./pagesIII/submitOrder/submitOrder.vue */297));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},297:
/*!******************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue ***!
  \******************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var a=e(/*! ./submitOrder.vue?vue&type=template&id=3d5fc281& */298),r=e(/*! ./submitOrder.vue?vue&type=script&lang=js& */300);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);e(/*! ./submitOrder.vue?vue&type=style&index=0&lang=css& */302);var i,u=e(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),s=Object(u["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],i);s.options.__file="pagesIII/submitOrder/submitOrder.vue",n["default"]=s.exports},298:
/*!*************************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=template&id=3d5fc281& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";e.r(n);var a=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=template&id=3d5fc281& */299);e.d(n,"render",(function(){return a["render"]})),e.d(n,"staticRenderFns",(function(){return a["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return a["recyclableRender"]})),e.d(n,"components",(function(){return a["components"]}))},299:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=template&id=3d5fc281& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";e.r(n),e.d(n,"render",(function(){return r})),e.d(n,"staticRenderFns",(function(){return i})),e.d(n,"recyclableRender",(function(){return o})),e.d(n,"components",(function(){return a}));var a={tuiListCell:function(){return e.e(/*! import() | components/tui-list-cell/tui-list-cell */"components/tui-list-cell/tui-list-cell").then(e.bind(null,/*! @/components/tui-list-cell/tui-list-cell.vue */454))},tuiButton:function(){return e.e(/*! import() | components/tui-button/tui-button */"components/tui-button/tui-button").then(e.bind(null,/*! @/components/tui-button/tui-button.vue */447))},wybPopup:function(){return e.e(/*! import() | components/wyb-popup/wyb-popup */"components/wyb-popup/wyb-popup").then(e.bind(null,/*! @/components/wyb-popup/wyb-popup.vue */553))}},r=function(){var t=this,n=t.$createElement;t._self._c},o=!1,i=[];r._withStripped=!0},300:
/*!*******************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var a=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=script&lang=js& */301),r=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=r.a},301:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(/*! ../../api/api.js */20),r=e(/*! ../../api/request.js */22),o=(t.getStorageSync("usermen"),console),i=o.log,u={components:{},data:function(){return{payUrl:"",isTop:!0,ids:"",goodsData:[],hasCoupon:!0,insufficient:!1,show:!1,extraUserInfo:{},totalPrice:{},ids2:"",orderNumber:"",extraData:{},idList:"",url:"",name:"arrowright",unit:"rpx",size:32,color:"#000",margin:"0",isPaying:!1}},computed:{allGoodsNum:function(){var t=this.goodsData,n=0;return t.forEach((function(t){n+=t.number})),n}},methods:{clip:function(){t.setClipboardData({data:this.payUrl,success:function(){t.hideToast()}})},gtePayORderTel:function(){var n=this,e=t.getStorageSync("usermen"),o={id:this.ids,token:e};(0,a.publicing)(r.postSettle,o).then((function(t){n.extraUserInfo=t.data.data.extraData.userInfo,n.goodsData=t.data.data.data,n.extraData=t.data.data.extraData})).catch((function(t){console.log(t)}))},gtePayORder:function(){var n=this,e=t.getStorageSync("usermen"),o={id:this.ids,token:e};(0,a.publicing)(r.postSettle,o).then((function(t){n.extraUserInfo=t.data.data.extraData.userInfo,n.goodsData=t.data.data.data,n.extraData=t.data.data.extraData;var e=n.goodsData.map((function(t){return t.id})),a="";for(var r in e)a=a+e[r]+",";a=a.substring(0,a.length-1),console.log("idList去除逗号后====",a),i(a),n.ids=a})).catch((function(t){console.log(t)}))},getQueryString:function(t,n){if(t)for(var e=t.split("?")[1]||"",a=e.split("&")||[],r=0;r<a.length;r++){var o=decodeURIComponent(a[r].split("=")[0]),i=decodeURIComponent(a[r].split("=")[1]);if(n===o)return i}else;},SubmitOrder:function(){var n=this;if(n.isPaying)return!1;n.isPaying=!0;var e=t.getStorageSync("usermen"),o={id:n.ids,token:e};(0,a.listing)(r.getSubmitOrder,o).then((function(a){if(-1!==a.data.code){var r=a.data.data,o=r.payinfo,i=r.orderNumber;t.setClipboardData({data:o,success:function(){t.hideToast()}}),t.showModal({title:"提示",content:"确认支付",success:function(a){if(a.confirm)n.btnPay(),n.isPaying=!1;else if(a.cancel)return n.isPaying=!1,n.cancelOrder(i,e),t.showToast({title:"订单已取消",icon:"none",duration:2e3}),void t.switchTab({url:"../../pages/my/my"})}})}else t.showToast({title:a.data.msg,icon:"none",duration:3e3})})).catch((function(t){i(t)}))},open:function(){this.$refs.popup.show()},chooseAddr:function(){t.navigateTo({url:"../address/address"})},cancelOrder:function(t,n){var e={token:n,orderNumber:t};(0,a.publicing)(r.postCancelOrder,e).then((function(t){console.log(t)}))},btnPay:function(n){t.showLoading({title:"支付中",duration:2e3}),t.reLaunch({url:"../PayOK/PayOK"})},popupClose:function(){this.show=!1}},onLoad:function(t){this.url=r.imgurl,this.ids=t.ids,this.gtePayORderTel();var n=getCurrentPages(),e=(n[n.length-1],n[n.length-2]);i(e.$page.fullPath),"/pages/order/order"===e.$page.fullPath?(i("我执行了加购清单"),this.gtePayORder()):"/pagesIII/productDetail/productDetail"==e.$page.fullPath&&i("我执行了立即购买")}};n.default=u}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},302:
/*!***************************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var a=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=style&index=0&lang=css& */303),r=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=r.a},303:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){}},[[296,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesIII/submitOrder/submitOrder.js.map