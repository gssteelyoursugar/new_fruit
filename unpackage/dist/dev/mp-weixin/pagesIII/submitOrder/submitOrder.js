(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesIII/submitOrder/submitOrder"],{304:
/*!*************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/main.js?{"page":"pagesIII%2FsubmitOrder%2FsubmitOrder"} ***!
  \*************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){e(/*! uni-pages */4);r(e(/*! vue */2));var n=r(e(/*! ./pagesIII/submitOrder/submitOrder.vue */305));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},305:
/*!******************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue ***!
  \******************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var r=e(/*! ./submitOrder.vue?vue&type=template&id=3d5fc281& */306),a=e(/*! ./submitOrder.vue?vue&type=script&lang=js& */308);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e(/*! ./submitOrder.vue?vue&type=style&index=0&lang=css& */310);var i,u=e(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),s=Object(u["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="pagesIII/submitOrder/submitOrder.vue",n["default"]=s.exports},306:
/*!*************************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=template&id=3d5fc281& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";e.r(n);var r=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=template&id=3d5fc281& */307);e.d(n,"render",(function(){return r["render"]})),e.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),e.d(n,"components",(function(){return r["components"]}))},307:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=template&id=3d5fc281& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,n,e){"use strict";e.r(n),e.d(n,"render",(function(){return a})),e.d(n,"staticRenderFns",(function(){return i})),e.d(n,"recyclableRender",(function(){return o})),e.d(n,"components",(function(){return r}));var r={tuiListCell:function(){return e.e(/*! import() | components/tui-list-cell/tui-list-cell */"components/tui-list-cell/tui-list-cell").then(e.bind(null,/*! @/components/tui-list-cell/tui-list-cell.vue */462))},tuiButton:function(){return e.e(/*! import() | components/tui-button/tui-button */"components/tui-button/tui-button").then(e.bind(null,/*! @/components/tui-button/tui-button.vue */455))},wybPopup:function(){return e.e(/*! import() | components/wyb-popup/wyb-popup */"components/wyb-popup/wyb-popup").then(e.bind(null,/*! @/components/wyb-popup/wyb-popup.vue */561))}},a=function(){var t=this,n=t.$createElement;t._self._c},o=!1,i=[];a._withStripped=!0},308:
/*!*******************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var r=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=script&lang=js& */309),a=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);n["default"]=a.a},309:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e(/*! ../../api/api.js */20),a=e(/*! ../../api/request.js */22),o=(t.getStorageSync("usermen"),console),i=o.log,u={components:{},data:function(){return{payUrl:"",isTop:!0,ids:"",goodsData:[],hasCoupon:!0,insufficient:!1,show:!1,extraUserInfo:{},totalPrice:{},ids2:"",orderNumber:"",extraData:{},idList:"",url:"",name:"arrowright",unit:"rpx",size:32,color:"#000",margin:"0"}},computed:{allGoodsNum:function(){var t=this.goodsData,n=0;return t.forEach((function(t){n+=t.number})),n}},methods:{clip:function(){t.setClipboardData({data:this.payUrl,success:function(){t.hideToast()}})},gtePayORderTel:function(){var n=this,e=t.getStorageSync("usermen"),o={id:this.ids,token:e};(0,r.publicing)(a.postSettle,o).then((function(t){n.extraUserInfo=t.data.data.extraData.userInfo,n.goodsData=t.data.data.data,n.extraData=t.data.data.extraData})).catch((function(t){console.log(t)}))},gtePayORder:function(){var n=this,e=t.getStorageSync("usermen"),o={id:this.ids,token:e};(0,r.publicing)(a.postSettle,o).then((function(t){n.extraUserInfo=t.data.data.extraData.userInfo,n.goodsData=t.data.data.data,n.extraData=t.data.data.extraData;var e=n.goodsData.map((function(t){return t.id})),r="";for(var a in e)r=r+e[a]+",";r=r.substring(0,r.length-1),console.log("idList去除逗号后====",r),i(r),n.ids=r})).catch((function(t){console.log(t)}))},getQueryString:function(t,n){if(t)for(var e=t.split("?")[1]||"",r=e.split("&")||[],a=0;a<r.length;a++){var o=decodeURIComponent(r[a].split("=")[0]),i=decodeURIComponent(r[a].split("=")[1]);if(n===o)return i}else;},SubmitOrder:function(){var n=this,e=this,o=t.getStorageSync("usermen"),u={id:e.ids,token:o};(0,r.listing)(a.getSubmitOrder,u).then((function(r){i(r);var a=r.data.data.orderNumber;n.payUrl=r.data.data.payUrl,e.clip(),t.showModal({title:"提示",content:"确认支付",success:function(n){if(n.confirm)e.btnPay(a);else if(n.cancel)return t.showToast({title:"订单已取消",icon:"none",duration:2e3}),void t.switchTab({url:"../../pages/my/my"})}})})).catch((function(t){i(t)}))},open:function(){this.$refs.popup.show()},chooseAddr:function(){t.navigateTo({url:"../address/address"})},btnPay:function(n){t.showLoading({title:"支付中",duration:2e3});var e={orderNumber:n};(0,r.publicing)(a.postOrderPay,e).then((function(n){i(n),t.showToast({title:"".concat(n.data.msg),icon:"none",duration:2e3}),t.reLaunch({url:"../PayOK/PayOK"})})).catch((function(t){i(t)}))},popupClose:function(){this.show=!1}},onLoad:function(t){this.url=a.imgurl,this.ids=t.ids,this.gtePayORderTel();var n=getCurrentPages(),e=(n[n.length-1],n[n.length-2]);i(e.$page.fullPath),"/pages/order/order"===e.$page.fullPath?(i("我执行了加购清单"),this.gtePayORder()):"/pagesIII/productDetail/productDetail"==e.$page.fullPath&&i("我执行了立即购买")}};n.default=u}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},310:
/*!***************************************************************************************************************!*\
  !*** /Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";e.r(n);var r=e(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitOrder.vue?vue&type=style&index=0&lang=css& */311),a=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);n["default"]=a.a},311:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/gsheng/Downloads/new_fruit/pagesIII/submitOrder/submitOrder.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,e){}},[[304,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesIII/submitOrder/submitOrder.js.map