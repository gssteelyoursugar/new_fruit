(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesII/productList/productList"],{2018:function(e,t,a){"use strict";a.r(t);var i=a("616d"),s=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=s.a},"398d":function(e,t,a){"use strict";(function(e){a("abd2");i(a("66fd"));var t=i(a("7c25"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},"616d":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("09cc"),s=a("0efb"),o=console,n=o.log,r=e.getStorageSync("usermen"),l={data:function(){return{title:"选中",sleter:!1,sleter2:!1,ApproveStatus:0,dropdownlistData:[{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"},{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"}],dropdownShow:!1,dropdownShow2:!1,seleVarieties:[],color_level:[],fruit_level:[],shape_level:[],goods:[],packaging:[],species:[],storage_mode:[],taste_level:[],variety:[],numNull:0,numNull2:0,numName:0,url:"http://192.168.1.10:8980",isActives1:!1,isActives2:!1,imgUrl:"http://192.168.1.10:8980/js/userfiles/fileupload/202008/1298932901905809410.png",colorLevelList:[],goodsList:[],fileUploadList:"",mouthfeelLevelList:[],slMangguo:"全部",slPinzhong:"品种",slGuobiao:"水果标准",slYanzheng:"验货保障",varietyId:0,ciData:[{name:"芒果",bOn:!1},{name:"西瓜",bOn:!1},{name:"香蕉",bOn:!1},{name:"橘子",bOn:!1},{name:"猕猴桃",bOn:!1}],dictDataList:[{name:"芒果",isActive:!1},{name:"西瓜",isActive:!1},{name:"哈密瓜",isActive:!1}],fruitLevelList:[],facadeLevelList:[],dictTypeList:[],dengji:[{name:"特级"},{name:"A级"},{name:"B级"}],activeA:!1,selecValue:"不限",selecTwoValue:"不限",searchKey:"",width:200,height:64,inputTop:0,arrowTop:0,dropScreenH:0,attrData:[],attrIndex:-1,dropScreenShow:!1,dropScreenShow2:!1,dropNum:0,scrollTop:0,tabIndex:0,tabIndex1:1,tabIndex2:2,tabIndex3:3,isList:!1,drawer:!1,drawerH:0,selectedName:"综合",searchName:"",selectH:0,num:0,seleTopList:[{name:"综合",selected:!1},{name:"销量",selected:!1},{name:"价格",selected:!1},{name:"视频选果",selected:!1}],seleBottom:[{name:"芒果",selected:!1},{name:"品种",selected:!0},{name:"水果标准",selected:!1},{name:"验证保障",selected:!1}],dropdownList:[{name:"综合",selected:!0},{name:"价格升序",selected:!1},{name:"价格降序",selected:!1}],pageIndex:1,loadding:!1,pullUpOn:!0,optionList:{tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""},postList:{},statusHeight:20,boxHeight:44,navHeight:64,idList:[],tempData:{id:"",token:r,varietyId:"",fruitLevel:"",weight_parameter_1:"",weight_parameter_2:"",size_parameter_1:"",size_parameter_2:"",tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:"",rejectRatio_parameter_1:"",rejectRatio_parameter_2:"",price_parameter_1:"",price_parameter_2:"",pageNo:1,pageSize:10}}},onLoad:function(t){var a=this;this.getMerchants();var i=getCurrentPages(),s=i[i.length-2];"/pagesII/searchGoods/searchGoods"===s.$page.fullPath?(this.getSearch(t.name),this.searchName=t.name,this.slMangguo=t.name):(console.log("没错我走到了这里"),this.slMangguo=t.name,this.varietyId=t.id,this.searchName=t.name,n(this.varietyId),this.ShopIng());var o={};o=wx.getMenuButtonBoundingClientRect(),e.getSystemInfo({success:function(i){a.width=o.left||i.windowWidth,a.height=o.top?o.top+o.height+8:i.statusBarHeight+44,a.inputTop=o.top?o.top+(o.height-30)/2:i.statusBarHeight+7,a.arrowTop=o.top?o.top+(o.height-32)/2:i.statusBarHeight+6,a.searchKey=t.name||"",a.dropScreenH=750*a.height/i.windowWidth+186,a.drawerH=i.windowHeight-e.upx2px(100)-a.height}});var r=e.getSystemInfoSync(),l=r.statusBarHeight,c=e.getMenuButtonBoundingClientRect(),h=c.top,d=c.bottom;this.statusHeight=l;var p=d-l+(h-l),u=l+p+h-l;this.boxHeight=u-l,this.navHeight=u,console.log("statusBarHeight,",l,"navHeight",u,"boxHeight",this.boxHeight,"buttonHeight",p)},filters:{filterNum:function(e){if(e){var t=(Math.floor(e)+"").split(""),a="";return t.length<=4&&(a=e),5===t.length&&(a=t[0]+"."+t[1]+"万"),6===t.length&&(a=t[0]+t[1]+"."+t[2]+"万"),7===t.length&&(a=t[0]+t[1]+t[2]+"."+t[3]+"万"),8===t.length&&(a=t[0]+t[1]+t[2]+t[3]+"."+t[4]+"万"),9===t.length&&(a=t[0]+"."+t[1]+"亿"),10===t.length&&(a=t[0]+t[1]+"."+t[2]+"亿"),a}return e}},computed:{tasteBox:function(){var e=[],t=this.taste_level;return t.forEach((function(t,a){var i={num:a,star:a+1,label:t.title,value:t.title,id:t.id};e.push(i)})),e},colorBox:function(){var e=[],t=this.color_level;return t.forEach((function(t,a){var i={num:a,star:a+1,label:t.title,value:t.title,id:t.id};e.push(i)})),e},shapeBox:function(){var e=[],t=this.shape_level;return t.forEach((function(t,a){var i={num:a,star:a+1,label:t.title,value:t.title,id:t.id};e.push(i)})),e}},methods:{getMerchants:function(){var e=this,t={token:r};(0,i.listing)(s.getClient,t).then((function(t){e.ApproveStatus=t.data.data.approveStatus})).catch((function(e){n(e)}))},goToSearchGoods:function(){e.navigateTo({url:"../../pagesII/searchGoods/searchGoods"})},gotoList:function(t){n(t),e.navigateTo({url:"../../pagesIII/productDetail/productDetail?id="+t})},dropDownList:function(e,t){-1!==e&&console.log("index："+e,t),this.title=t,this.dropdownShow=!this.dropdownShow},dropDownList2:function(e,t){-1!==e&&console.log("index："+e,t),this.title=t,this.dropdownShow2=!this.dropdownShow2},getSearch:function(e){var t=this,a={pageNo:1,pageSize:10,name:e};(0,i.listing)(s.getGoodsall,a).then((function(e){n("搜索结果",e),t.goods=e.data.data.goods,t.seleVarieties=e.data.data,void 0===t.seleVarieties?t.seleVarieties=t.seleVarieties:t.seleVarieties,t.color_level=e.data.data.color_level,t.facade_level=e.data.data.facade_level,t.fruit_level=e.data.data.fruit_level,t.shape_level=e.data.data.shape_level,t.goods=e.data.data.goods,t.packaging=e.data.data.packaging,t.species=e.data.data.species,t.storage_mode=e.data.data.storage_mode,t.taste_level=e.data.data.taste_level,t.variety=e.data.data.variety})).catch((function(e){n(e)}))},Total:function(t){this.num=t,n(this.num),0==this.num?(this.ShopIng(),n("综合")):1==this.num?(this.sleter?(n("销量升序"),this.getshopDESC()):(this.getshopASC(),n("销量降序")),this.sleter=!this.sleter):2==this.num?(this.sleter2?(n("价格升序"),this.getpriceDESC()):(n("价格降序"),this.getpriceASC()),this.sleter2=!this.sleter2):3==this.num?(e.showToast({title:"功能内测中，敬请期待",icon:"none",duration:2e3}),n("视频选果")):4==this.num&&e.navigateTo({url:"../../pagesII/rankingList/rankingList"})},btnDropChange:function(e){this.isActives1=!this.isActives1,this.dropScreenShow=!this.dropScreenShow,this.dropScreenShow2=!1,this.isActives2=!1,this.isActives1=this.dropScreenShow},btnDropChange2:function(){n("触发"),this.$forceUpdate(),this.isActives2=!this.isActives2,this.dropScreenShow2=!this.dropScreenShow2,this.dropScreenShow=!1,this.isActives1=!1},btnDropChange3:function(){this.drawer=!this.drawer,this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},checkDing:function(e,t,a){this.numNull=e,this.slMangguo=a,this.varietyId=t,this.ShopIng(),this.dropScreenShow=!this.dropScreenShow},checkVariety:function(e,t,a){var i=this.idList,s=i.indexOf(t);-1!==s?i.splice(s,1):i.push(t),this.idList=i},checkDing2:function(e,t,a){this.numNull2=e,this.slPinzhong=t,n(e,t,a)},checkgeng:function(){e.switchTab({url:"../../pages/search/search"})},Sales:function(e){n(e)},Priceda:function(e){n(e)},Videosl:function(e){n(e)},activeGo:function(e,t,a){this.optionList[e]=t,this.tempData[e]=t,this.num=a,console.log(this.optionList)},selectItem:function(e){var t=e.id,a=e.s_name,i=e.label;this.optionList[a]=i,this.tempData[a]=t,console.log("tempData:",this.tempData)},isFalse:function(){this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},isTrue:function(){this.dropScreenShow2=!0,this.dropScreenShow=!0,this.isActives2=!0,this.isActives=!0},useOutClickSide:function(){this.$refs.easySelect.hideOptions&&this.$refs.easySelect.hideOptions()},getshopDESC:function(){var e=this,t={pageNo:1,pageSize:10,order:"A.shop_number DESC"};(0,i.listing)(s.getGoodsall,t).then((function(t){n(t),e.goods=t.data.data.goods})).catch((function(e){n(e)}))},getshopASC:function(){var e=this,t={pageNo:1,pageSize:10,order:"A.shop_number ASC"};(0,i.listing)(s.getGoodsall,t).then((function(t){n(t),e.goods=t.data.data.goods})).catch((function(e){n(e)}))},getpriceDESC:function(){var e=this,t={pageNo:1,pageSize:10,order:"A.platform_price DESC"};(0,i.listing)(s.getGoodsall,t).then((function(t){n(t),e.goods=t.data.data.goods})).catch((function(e){n(e)}))},getpriceASC:function(){var e=this,t={pageNo:1,pageSize:10,order:"A.platform_price ASC"};(0,i.listing)(s.getGoodsall,t).then((function(t){e.goods=t.data.data.goods})).catch((function(e){n(e)}))},getTypeData:function(){var e=this,t=this.idList;this.seleVarieties;if(0===t.length)(0,i.listing)(s.getGoodsall,this.tempData).then((function(t){console.log(t),e.goods=t.data.data.goods}));else{var a=t.join(",");this.tempData.varietyId=a,(0,i.listing)(s.getGoodsall,this.tempData).then((function(t){e.goods=t.data.data.goods}))}this.dropScreenShow2=!this.dropScreenShow2,this.isActives2=!1},clickToConfirm:function(){var e=this;console.log(this.tempData),(0,i.listing)(s.getGoodsall,this.tempData).then((function(t){console.log(t),e.goods=t.data.data.goods})),this.closeDrawer()},ShopIng:function(){var e=this;this.tempData.id=this.varietyId;var t={id:this.varietyId};Promise.all([(0,i.listing)(s.getGoodsall,this.tempData),(0,i.listing)(s.getAttribute,t)]).then((function(t){console.log(t),e.seleVarieties=t[1].data.data,e.color_level=t[0].data.data.color_level,e.facade_level=t[0].data.data.facade_level,e.fruit_level=t[0].data.data.fruit_level,e.shape_level=t[0].data.data.shape_level,e.goods=t[0].data.data.goods,e.packaging=t[0].data.data.packaging,e.species=t[0].data.data.species;for(var a=0;a<e.species.length;a++)e.species[a].isActives=e.activeA;e.storage_mode=t[0].data.data.storage_mode,e.taste_level=t[0].data.data.taste_level,e.variety=t[0].data.data.variety})).catch((function(e){n(e)}))},px:function(t){return e.upx2px(t)+"px"},reset:function(){this.isActives2=!1,this.isActives=!1,this.slPinzhong="品种",this.idList=[],this.tempData.varietyId=""},btnCloseDrop:function(){var e=this;this.scrollTop=1,this.$nextTick((function(){e.scrollTop=0})),this.dropScreenShow=!1,this.attrIndex=-1},clickToSure:function(e){this.isActives2=!1,this.isActives=!1,this.dropScreenShow2=!1,console.log("我真的点击了",e)},showDropdownList:function(){this.selectH=246,this.tabIndex=0},hideDropdownList:function(){this.selectH=0},dropdownItem:function(){n("2")},screen:function(t){var a=t.currentTarget.dataset.index?t.currentTarget.dataset.index:t;console.log(a),this.hideDropdownList(),this.btnCloseDrop(),0==a?this.showDropdownList():1==a?this.tabIndex=1:2==a?this.isList=!this.isList:3==a?this.drawer=!0:4==a&&(n(""),e.navigateTo({url:"../../pagesII/rankingList/rankingList"}))},clickToReset:function(){this.num=-1,this.tempData.fruitLevel="",this.tempData.weight_parameter_1="",this.tempData.weight_parameter_2="",this.tempData.size_parameter_1="",this.tempData.size_parameter_2="",this.tempData.price_parameter_1="",this.tempData.price_parameter_2="",this.tempData.rejectRatio_parameter_1="",this.tempData.rejectRatio_parameter_2="",this.tempData.tasteLevel_parameter_1="",this.tempData.tasteLevel_parameter_2="",this.tempData.colorLevel_parameter_1="",this.tempData.colorLevel_parameter_2="",this.tempData.shapeLevel_parameter_1="",this.tempData.shapeLevel_parameter_2="",this.optionList={tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""}},closeDrawer:function(){this.drawer=!1},back:function(){this.drawer?this.closeDrawer():e.navigateBack()},search:function(){e.navigateTo({url:"../../news/search/search"})},detail:function(t){console.log(t),e.navigateTo({url:"../../pagesIII/productDetail/productDetail?data="+t})}},onReachBottom:function(){if(this.pullUpOn)if(this.loadding=!0,4==this.pageIndex)this.loadding=!1,this.pullUpOn=!1;else{var e=JSON.parse(JSON.stringify(this.goodsList));e=e.splice(0,10),1==this.pageIndex&&(e=e.reverse()),this.goodsList=this.goodsList.concat(e),this.pageIndex=this.pageIndex+1,this.loadding=!1}}};t.default=l}).call(this,a("543d")["default"])},7180:function(e,t,a){},"7c25":function(e,t,a){"use strict";a.r(t);var i=a("b54e"),s=a("2018");for(var o in s)"default"!==o&&function(e){a.d(t,e,(function(){return s[e]}))}(o);a("8989");var n,r=a("f0c5"),l=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);t["default"]=l.exports},8989:function(e,t,a){"use strict";var i=a("7180"),s=a.n(i);s.a},b54e:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={tuiTopDropdown:function(){return a.e("components/tui-top-dropdown/tui-top-dropdown").then(a.bind(null,"fab6"))},tuiDrawer:function(){return a.e("components/tui-drawer/tui-drawer").then(a.bind(null,"795a"))},easySelect:function(){return a.e("components/easy-select/easy-select").then(a.bind(null,"3a9e"))},tuiIcon:function(){return a.e("components/tui-icon/tui-icon").then(a.bind(null,"f464"))},tuiNomore:function(){return a.e("components/tui-nomore/tui-nomore").then(a.bind(null,"e246"))}},s=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.goods,(function(t,a){var i=e.__get_orig(t),s=(a+1)%2!=0?e._f("filterNum")(t.praiseNumber):null,o=(a+1)%2!=0?e._f("filterNum")(t.totalPirce):null;return{$orig:i,f0:s,f1:o}}))),i=e.__map(e.goods,(function(t,a){var i=e.__get_orig(t),s=(a+1)%2==0?e._f("filterNum")(t.praiseNumber):null,o=(a+1)%2==0?e._f("filterNum")(t.totalPirce):null;return{$orig:i,f2:s,f3:o}})),s=e.__map(e.seleVarieties,(function(t,a){var i=e.__get_orig(t),s=e.idList.indexOf(t.id),o=e.idList.indexOf(t.id);return{$orig:i,g0:s,g1:o}}));e.$mp.data=Object.assign({},{$root:{l0:a,l1:i,l2:s}})},o=[]}},[["398d","common/runtime","common/vendor"]]]);