(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesII/productList/productList"],{2018:function(t,e,i){"use strict";i.r(e);var a=i("616d"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},"398d":function(t,e,i){"use strict";(function(t){i("abd2");a(i("66fd"));var e=a(i("7c25"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"616d":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("09cc"),s=i("0efb"),o=console,n=o.log,r=t.getStorageSync("usermen"),l={data:function(){return{allVariety:!1,title:"选中",sleter:!1,sleter2:!1,ApproveStatus:0,dropdownlistData:[{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"},{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"}],dropdownShow:!1,dropdownShow2:!1,seleVarieties:[],color_level:[],fruit_level:[],shape_level:[],goods:[],packaging:[],species:[],storage_mode:[],taste_level:[],variety:[],numNull:0,numNull2:0,numName:0,url:"http://192.168.1.10:8980",isActives1:!1,isActives2:!1,imgUrl:"http://192.168.1.10:8980/js/userfiles/fileupload/202008/1298932901905809410.png",colorLevelList:[],goodsList:[],fileUploadList:"",mouthfeelLevelList:[],slMangguo:"全部",slPinzhong:"品种",slGuobiao:"水果标准",slYanzheng:"验货保障",varietyId:0,ciData:[{name:"芒果",bOn:!1},{name:"西瓜",bOn:!1},{name:"香蕉",bOn:!1},{name:"橘子",bOn:!1},{name:"猕猴桃",bOn:!1}],dictDataList:[{name:"芒果",isActive:!1},{name:"西瓜",isActive:!1},{name:"哈密瓜",isActive:!1}],fruitLevelList:[],facadeLevelList:[],dictTypeList:[],dengji:[{name:"特级"},{name:"A级"},{name:"B级"}],activeA:!1,selecValue:"不限",selecTwoValue:"不限",searchKey:"",width:200,height:64,inputTop:0,arrowTop:0,dropScreenH:0,attrData:[],attrIndex:-1,dropScreenShow:!1,dropScreenShow2:!1,dropNum:0,scrollTop:0,tabIndex:0,tabIndex1:1,tabIndex2:2,tabIndex3:3,isList:!1,drawer:!1,drawerH:0,selectedName:"综合",searchName:"",selectH:0,num:0,seleTopList:[{name:"综合",selected:!1},{name:"销量",selected:!1},{name:"价格",selected:!1},{name:"视频选果",selected:!1}],seleBottom:[{name:"芒果",selected:!1},{name:"品种",selected:!0},{name:"水果标准",selected:!1},{name:"验证保障",selected:!1}],dropdownList:[{name:"综合",selected:!0},{name:"价格升序",selected:!1},{name:"价格降序",selected:!1}],pageIndex:1,loadding:!1,pullUpOn:!0,optionList:{fruit_parameter_1:"",fruit_parameter_2:"",tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""},postList:{},statusHeight:20,boxHeight:44,navHeight:64,idList:[],tempData:{id:"",token:r,varietyId:"",fruit_parameter_1:"",fruit_parameter_2:"",weight_parameter_1:"",weight_parameter_2:"",size_parameter_1:"",size_parameter_2:"",tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:"",rejectRatio_parameter_1:"",rejectRatio_parameter_2:"",price_parameter_1:"",price_parameter_2:"",pageNo:1,pageSize:10}}},onLoad:function(e){var i=this;this.getMerchants();var a=getCurrentPages(),s=a[a.length-2];"/pagesII/searchGoods/searchGoods"===s.$page.fullPath?(this.getSearch(e.name),this.searchName=e.name,this.slMangguo=e.name):(console.log("没错我走到了这里"),this.slMangguo=e.name,this.varietyId=e.id,this.searchName=e.name,n(this.varietyId),this.ShopIng());var o={};o=wx.getMenuButtonBoundingClientRect(),t.getSystemInfo({success:function(a){i.width=o.left||a.windowWidth,i.height=o.top?o.top+o.height+8:a.statusBarHeight+44,i.inputTop=o.top?o.top+(o.height-30)/2:a.statusBarHeight+7,i.arrowTop=o.top?o.top+(o.height-32)/2:a.statusBarHeight+6,i.searchKey=e.name||"",i.dropScreenH=750*i.height/a.windowWidth+186,i.drawerH=a.windowHeight-t.upx2px(100)-i.height}});var r=t.getSystemInfoSync(),l=r.statusBarHeight,h=t.getMenuButtonBoundingClientRect(),c=h.top,d=h.bottom;this.statusHeight=l;var p=d-l+(c-l),u=l+p+c-l;this.boxHeight=u-l,this.navHeight=u,console.log("statusBarHeight,",l,"navHeight",u,"boxHeight",this.boxHeight,"buttonHeight",p)},filters:{filterNum:function(t){if(t){var e=(Math.floor(t)+"").split(""),i="";return e.length<=4&&(i=t),5===e.length&&(i=e[0]+"."+e[1]+"万"),6===e.length&&(i=e[0]+e[1]+"."+e[2]+"万"),7===e.length&&(i=e[0]+e[1]+e[2]+"."+e[3]+"万"),8===e.length&&(i=e[0]+e[1]+e[2]+e[3]+"."+e[4]+"万"),9===e.length&&(i=e[0]+"."+e[1]+"亿"),10===e.length&&(i=e[0]+e[1]+"."+e[2]+"亿"),i}return t}},computed:{fruitBox:function(){var t=[],e=this.fruit_level;return e.forEach((function(e,i){var a={num:i,star:i+1,label:e.title,value:e.title,id:e.id};t.push(a)})),t},tasteBox:function(){var t=[],e=this.taste_level;return e.forEach((function(e,i){var a={num:i,star:i+1,label:e.title,value:e.title,id:e.id};t.push(a)})),t},colorBox:function(){var t=[],e=this.color_level;return e.forEach((function(e,i){var a={num:i,star:i+1,label:e.title,value:e.title,id:e.id};t.push(a)})),t},shapeBox:function(){var t=[],e=this.shape_level;return e.forEach((function(e,i){var a={num:i,star:i+1,label:e.title,value:e.title,id:e.id};t.push(a)})),t}},methods:{getMerchants:function(){var t=this,e={token:r};(0,a.listing)(s.getClient,e).then((function(e){t.ApproveStatus=e.data.data.approveStatus})).catch((function(t){n(t)}))},goToSearchGoods:function(){t.navigateTo({url:"../../pagesII/searchGoods/searchGoods"})},gotoList:function(e){n(e),t.navigateTo({url:"../../pagesIII/productDetail/productDetail?id="+e})},dropDownList:function(t,e){-1!==t&&console.log("index："+t,e),this.title=e,this.dropdownShow=!this.dropdownShow},dropDownList2:function(t,e){-1!==t&&console.log("index："+t,e),this.title=e,this.dropdownShow2=!this.dropdownShow2},getSearch:function(t){var e=this,i={pageNo:1,pageSize:10,name:t};(0,a.listing)(s.getGoodsall,i).then((function(t){n("搜索结果",t),e.goods=t.data.data.goods,e.seleVarieties=t.data.data,void 0===e.seleVarieties?e.seleVarieties=e.seleVarieties:e.seleVarieties,e.color_level=t.data.data.color_level,e.facade_level=t.data.data.facade_level,e.fruit_level=t.data.data.fruit_level,e.shape_level=t.data.data.shape_level,e.goods=t.data.data.goods,e.packaging=t.data.data.packaging,e.species=t.data.data.species,e.storage_mode=t.data.data.storage_mode,e.taste_level=t.data.data.taste_level,e.variety=t.data.data.variety})).catch((function(t){n(t)}))},Total:function(e){this.num=e,n(this.num),0==this.num?(this.ShopIng(),n("综合")):1==this.num?(this.sleter?(n("销量升序"),console.log("sleter",this.sleter),this.getshopDESC()):(console.log("sleter",this.sleter),this.getshopASC(),n("销量降序")),this.sleter=!this.sleter):2==this.num?(this.sleter2?(n("价格升序"),console.log("sleter",this.sleter2),this.getpriceDESC()):(console.log("sleter",this.sleter2),n("价格降序"),this.getpriceASC()),this.sleter2=!this.sleter2):3==this.num?(t.showToast({title:"功能内测中，敬请期待",icon:"none",duration:2e3}),n("视频选果")):4==this.num&&t.navigateTo({url:"../../pagesII/rankingList/rankingList"})},btnDropChange:function(t){this.isActives1=!this.isActives1,this.dropScreenShow=!this.dropScreenShow,this.dropScreenShow2=!1,this.isActives2=!1,this.isActives1=this.dropScreenShow},btnDropChange2:function(){n("触发"),this.$forceUpdate(),this.isActives2=!this.isActives2,this.dropScreenShow2=!this.dropScreenShow2,this.dropScreenShow=!1,this.isActives1=!1},btnDropChange3:function(){this.drawer=!this.drawer,this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},checkDing:function(t,e,i){this.numNull=t,this.slMangguo=i,this.varietyId=e,this.ShopIng(),this.dropScreenShow=!this.dropScreenShow},pickAllVariety:function(){this.idList;var t=this.seleVarieties,e=[];this.allVariety?this.idList=[]:(t.forEach((function(t){e.push(t.id)})),this.idList=e),this.allVariety=!this.allVariety},checkVariety:function(t,e,i){var a=this.idList,s=this.seleVarieties,o=a.indexOf(e);-1!==o?a.splice(o,1):a.push(e),this.idList=a,a.length===s.length?this.allVariety=!0:this.allVariety=!1,console.log(this.seleVarieties)},checkDing2:function(t,e,i){this.numNull2=t,this.slPinzhong=e,n(t,e,i)},checkgeng:function(){t.switchTab({url:"../../pages/search/search"})},Sales:function(t){n(t)},Priceda:function(t){n(t)},Videosl:function(t){n(t)},activeGo:function(t,e,i){this.optionList[t]=e,this.tempData[t]=e,this.num=i,console.log(this.optionList)},selectItem:function(t){var e=t.id,i=t.s_name,a=t.label;this.optionList[i]=a,this.tempData[i]=e,console.log("tempData:",this.tempData)},isFalse:function(){this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},isTrue:function(){this.dropScreenShow2=!0,this.dropScreenShow=!0,this.isActives2=!0,this.isActives=!0},useOutClickSide:function(){this.$refs.easySelect.hideOptions&&this.$refs.easySelect.hideOptions()},getshopDESC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.shop_number DESC"};(0,a.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getshopASC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.shop_number ASC"};(0,a.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getpriceDESC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.platform_price DESC"};(0,a.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getpriceASC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.platform_price ASC"};(0,a.listing)(s.getGoodsall,e).then((function(e){t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getTypeData:function(){var t=this,e=this.idList;this.seleVarieties;if(0===e.length)(0,a.listing)(s.getGoodsall,this.tempData).then((function(i){console.log(i),console.log("jinlai",e),t.goods=i.data.data.goods}));else{var i=e.join(",");this.tempData.varietyId=i,(0,a.listing)(s.getGoodsall,this.tempData).then((function(i){console.log("jinqu",e),t.goods=i.data.data.goods}))}this.dropScreenShow2=!this.dropScreenShow2,this.isActives2=!1},clickToConfirm:function(){var t=this;console.log(this.tempData),(0,a.listing)(s.getGoodsall,this.tempData).then((function(e){console.log(e),t.goods=e.data.data.goods})),this.closeDrawer()},ShopIng:function(){var t=this;this.tempData.id=this.varietyId;var e={id:this.varietyId};Promise.all([(0,a.listing)(s.getGoodsall,this.tempData),(0,a.listing)(s.getAttribute,e)]).then((function(e){console.log(e),t.seleVarieties=e[1].data.data,t.color_level=e[0].data.data.color_level,t.facade_level=e[0].data.data.facade_level,t.fruit_level=e[0].data.data.fruit_level,t.shape_level=e[0].data.data.shape_level,t.goods=e[0].data.data.goods,t.packaging=e[0].data.data.packaging,t.species=e[0].data.data.species;for(var i=0;i<t.species.length;i++)t.species[i].isActives=t.activeA;t.storage_mode=e[0].data.data.storage_mode,t.taste_level=e[0].data.data.taste_level,t.variety=e[0].data.data.variety})).catch((function(t){n(t)}))},px:function(e){return t.upx2px(e)+"px"},reset:function(){this.isActives2=!1,this.allVariety=!1,this.isActives=!1,this.slPinzhong="品种",this.idList=[],this.tempData.varietyId=""},btnCloseDrop:function(){var t=this;this.scrollTop=1,this.$nextTick((function(){t.scrollTop=0})),this.dropScreenShow=!1,this.attrIndex=-1},clickToSure:function(t){this.isActives2=!1,this.isActives=!1,this.dropScreenShow2=!1,console.log("我真的点击了",t)},showDropdownList:function(){this.selectH=246,this.tabIndex=0},hideDropdownList:function(){this.selectH=0},dropdownItem:function(){n("2")},screen:function(e){var i=e.currentTarget.dataset.index?e.currentTarget.dataset.index:e;console.log(i),this.hideDropdownList(),this.btnCloseDrop(),0==i?this.showDropdownList():1==i?this.tabIndex=1:2==i?this.isList=!this.isList:3==i?this.drawer=!0:4==i&&(n(""),t.navigateTo({url:"../../pagesII/rankingList/rankingList"}))},clickToReset:function(){this.num=-1,this.tempData.fruit_parameter_1="",this.tempData.fruit_parameter_2="",this.tempData.weight_parameter_1="",this.tempData.weight_parameter_2="",this.tempData.size_parameter_1="",this.tempData.size_parameter_2="",this.tempData.price_parameter_1="",this.tempData.price_parameter_2="",this.tempData.rejectRatio_parameter_1="",this.tempData.rejectRatio_parameter_2="",this.tempData.tasteLevel_parameter_1="",this.tempData.tasteLevel_parameter_2="",this.tempData.colorLevel_parameter_1="",this.tempData.colorLevel_parameter_2="",this.tempData.shapeLevel_parameter_1="",this.tempData.shapeLevel_parameter_2="",this.optionList={fruit_parameter_1:"",fruit_parameter_2:"",tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""}},closeDrawer:function(){this.drawer=!1},back:function(){this.drawer?this.closeDrawer():t.navigateBack()},search:function(){t.navigateTo({url:"../../news/search/search"})},detail:function(e){console.log(e),t.navigateTo({url:"../../pagesIII/productDetail/productDetail?data="+e})}},onReachBottom:function(){if(this.pullUpOn)if(this.loadding=!0,4==this.pageIndex)this.loadding=!1,this.pullUpOn=!1;else{var t=JSON.parse(JSON.stringify(this.goodsList));t=t.splice(0,10),1==this.pageIndex&&(t=t.reverse()),this.goodsList=this.goodsList.concat(t),this.pageIndex=this.pageIndex+1,this.loadding=!1}}};e.default=l}).call(this,i("543d")["default"])},7180:function(t,e,i){},"71ea":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={tuiTopDropdown:function(){return i.e("components/tui-top-dropdown/tui-top-dropdown").then(i.bind(null,"fab6"))},tuiDrawer:function(){return i.e("components/tui-drawer/tui-drawer").then(i.bind(null,"795a"))},tuiIcon:function(){return i.e("components/tui-icon/tui-icon").then(i.bind(null,"f464"))},easySelect:function(){return i.e("components/easy-select/easy-select").then(i.bind(null,"3a9e"))},tuiNomore:function(){return i.e("components/tui-nomore/tui-nomore").then(i.bind(null,"e246"))}},s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.goods,(function(e,i){var a=t.__get_orig(e),s=(i+1)%2!=0?t._f("filterNum")(e.praiseNumber):null,o=(i+1)%2!=0?t._f("filterNum")(e.totalPirce):null;return{$orig:a,f0:s,f1:o}}))),a=t.__map(t.goods,(function(e,i){var a=t.__get_orig(e),s=(i+1)%2==0?t._f("filterNum")(e.praiseNumber):null,o=(i+1)%2==0?t._f("filterNum")(e.totalPirce):null;return{$orig:a,f2:s,f3:o}})),s=t.__map(t.seleVarieties,(function(e,i){var a=t.__get_orig(e),s=t.idList.indexOf(e.id),o=t.idList.indexOf(e.id);return{$orig:a,g0:s,g1:o}}));t.$mp.data=Object.assign({},{$root:{l0:i,l1:a,l2:s}})},o=[]},"7c25":function(t,e,i){"use strict";i.r(e);var a=i("71ea"),s=i("2018");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("8989");var n,r=i("f0c5"),l=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],n);e["default"]=l.exports},8989:function(t,e,i){"use strict";var a=i("7180"),s=i.n(a);s.a}},[["398d","common/runtime","common/vendor"]]]);