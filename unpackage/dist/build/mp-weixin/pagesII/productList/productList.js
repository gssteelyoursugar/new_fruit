(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesII/productList/productList"],{2018:function(t,e,a){"use strict";a.r(e);var i=a("616d"),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},"398d":function(t,e,a){"use strict";(function(t){a("abd2");i(a("66fd"));var e=i(a("7c25"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"3da3":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={tuiTopDropdown:function(){return a.e("components/tui-top-dropdown/tui-top-dropdown").then(a.bind(null,"fab6"))},tuiDrawer:function(){return a.e("components/tui-drawer/tui-drawer").then(a.bind(null,"795a"))},easySelect:function(){return a.e("components/easy-select/easy-select").then(a.bind(null,"3a9e"))},tuiIcon:function(){return a.e("components/tui-icon/tui-icon").then(a.bind(null,"f464"))},tuiNomore:function(){return a.e("components/tui-nomore/tui-nomore").then(a.bind(null,"e246"))}},s=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.goods,(function(e,a){var i=t.__get_orig(e),s=(a+1)%2!=0?t._f("filterNum")(e.praiseNumber):null,o=(a+1)%2!=0?t._f("filterNum")(e.totalPirce):null;return{$orig:i,f0:s,f1:o}}))),i=t.__map(t.goods,(function(e,a){var i=t.__get_orig(e),s=(a+1)%2==0?t._f("filterNum")(e.praiseNumber):null,o=(a+1)%2==0?t._f("filterNum")(e.totalPirce):null;return{$orig:i,f2:s,f3:o}})),s=t.__map(t.seleVarieties,(function(e,a){var i=t.__get_orig(e),s=t.idList.indexOf(e.id),o=t.idList.indexOf(e.id);return{$orig:i,g0:s,g1:o}}));t.$mp.data=Object.assign({},{$root:{l0:a,l1:i,l2:s}})},o=[]},"616d":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("09cc"),s=a("0efb"),o=console,n=o.log,r=t.getStorageSync("usermen"),l={data:function(){return{title:"选中",sleter:!1,sleter2:!1,ApproveStatus:0,dropdownlistData:[{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"},{name:"微信支付"},{name:"支付宝支付"},{name:"银行卡支付"}],dropdownShow:!1,dropdownShow2:!1,seleVarieties:[],color_level:[],fruit_level:[],shape_level:[],goods:[],packaging:[],species:[],storage_mode:[],taste_level:[],variety:[],numNull:0,numNull2:0,numName:0,url:"http://192.168.1.10:8980",isActives1:!1,isActives2:!1,imgUrl:"http://192.168.1.10:8980/js/userfiles/fileupload/202008/1298932901905809410.png",colorLevelList:[],goodsList:[],fileUploadList:"",mouthfeelLevelList:[],slMangguo:"全部",slPinzhong:"品种",slGuobiao:"水果标准",slYanzheng:"验货保障",varietyId:0,ciData:[{name:"芒果",bOn:!1},{name:"西瓜",bOn:!1},{name:"香蕉",bOn:!1},{name:"橘子",bOn:!1},{name:"猕猴桃",bOn:!1}],dictDataList:[{name:"芒果",isActive:!1},{name:"西瓜",isActive:!1},{name:"哈密瓜",isActive:!1}],fruitLevelList:[],facadeLevelList:[],dictTypeList:[],dengji:[{name:"特级"},{name:"A级"},{name:"B级"}],activeA:!1,selecValue:"不限",selecTwoValue:"不限",searchKey:"",width:200,height:64,inputTop:0,arrowTop:0,dropScreenH:0,attrData:[],attrIndex:-1,dropScreenShow:!1,dropScreenShow2:!1,dropNum:0,scrollTop:0,tabIndex:0,tabIndex1:1,tabIndex2:2,tabIndex3:3,isList:!1,drawer:!1,drawerH:0,selectedName:"综合",searchName:"",selectH:0,num:0,seleTopList:[{name:"综合",selected:!1},{name:"销量",selected:!1},{name:"价格",selected:!1},{name:"视频选果",selected:!1}],seleBottom:[{name:"芒果",selected:!1},{name:"品种",selected:!0},{name:"水果标准",selected:!1},{name:"验证保障",selected:!1}],dropdownList:[{name:"综合",selected:!0},{name:"价格升序",selected:!1},{name:"价格降序",selected:!1}],pageIndex:1,loadding:!1,pullUpOn:!0,optionList:{tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""},postList:{},statusHeight:20,boxHeight:44,navHeight:64,idList:[],tempData:{id:"",token:r,varietyId:"",fruitLevel:"",weight_parameter_1:"",weight_parameter_2:"",size_parameter_1:"",size_parameter_2:"",tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:"",rejectRatio_parameter_1:"",rejectRatio_parameter_2:"",price_parameter_1:"",price_parameter_2:"",pageNo:1,pageSize:10}}},onLoad:function(e){var a=this;this.getMerchants();var i=getCurrentPages(),s=i[i.length-2];"/pagesII/searchGoods/searchGoods"===s.$page.fullPath?(this.getSearch(e.name),this.searchName=e.name,this.slMangguo=e.name):(console.log("没错我走到了这里"),this.slMangguo=e.name,this.varietyId=e.id,this.searchName=e.name,n(this.varietyId),this.ShopIng());var o={};o=wx.getMenuButtonBoundingClientRect(),t.getSystemInfo({success:function(i){a.width=o.left||i.windowWidth,a.height=o.top?o.top+o.height+8:i.statusBarHeight+44,a.inputTop=o.top?o.top+(o.height-30)/2:i.statusBarHeight+7,a.arrowTop=o.top?o.top+(o.height-32)/2:i.statusBarHeight+6,a.searchKey=e.name||"",a.dropScreenH=750*a.height/i.windowWidth+186,a.drawerH=i.windowHeight-t.upx2px(100)-a.height}});var r=t.getSystemInfoSync(),l=r.statusBarHeight,c=t.getMenuButtonBoundingClientRect(),h=c.top,d=c.bottom;this.statusHeight=l;var p=d-l+(h-l),u=l+p+h-l;this.boxHeight=u-l,this.navHeight=u,console.log("statusBarHeight,",l,"navHeight",u,"boxHeight",this.boxHeight,"buttonHeight",p)},filters:{filterNum:function(t){if(t){var e=(Math.floor(t)+"").split(""),a="";return e.length<=4&&(a=t),5===e.length&&(a=e[0]+"."+e[1]+"万"),6===e.length&&(a=e[0]+e[1]+"."+e[2]+"万"),7===e.length&&(a=e[0]+e[1]+e[2]+"."+e[3]+"万"),8===e.length&&(a=e[0]+e[1]+e[2]+e[3]+"."+e[4]+"万"),9===e.length&&(a=e[0]+"."+e[1]+"亿"),10===e.length&&(a=e[0]+e[1]+"."+e[2]+"亿"),a}return t}},computed:{tasteBox:function(){var t=[],e=this.taste_level;return e.forEach((function(e,a){var i={num:a,star:a+1,label:e.title,value:e.title,id:e.id};t.push(i)})),t},colorBox:function(){var t=[],e=this.color_level;return e.forEach((function(e,a){var i={num:a,star:a+1,label:e.title,value:e.title,id:e.id};t.push(i)})),t},shapeBox:function(){var t=[],e=this.shape_level;return e.forEach((function(e,a){var i={num:a,star:a+1,label:e.title,value:e.title,id:e.id};t.push(i)})),t}},methods:{getMerchants:function(){var t=this,e={token:r};(0,i.listing)(s.getClient,e).then((function(e){t.ApproveStatus=e.data.data.approveStatus})).catch((function(t){n(t)}))},goToSearchGoods:function(){t.navigateTo({url:"../../pagesII/searchGoods/searchGoods"})},gotoList:function(e){n(e),t.navigateTo({url:"../../pagesIII/productDetail/productDetail?id="+e})},dropDownList:function(t,e){-1!==t&&console.log("index："+t,e),this.title=e,this.dropdownShow=!this.dropdownShow},dropDownList2:function(t,e){-1!==t&&console.log("index："+t,e),this.title=e,this.dropdownShow2=!this.dropdownShow2},getSearch:function(t){var e=this,a={pageNo:1,pageSize:10,name:t};(0,i.listing)(s.getGoodsall,a).then((function(t){n("搜索结果",t),e.goods=t.data.data.goods,e.seleVarieties=t.data.data,void 0===e.seleVarieties?e.seleVarieties=e.seleVarieties:e.seleVarieties,e.color_level=t.data.data.color_level,e.facade_level=t.data.data.facade_level,e.fruit_level=t.data.data.fruit_level,e.shape_level=t.data.data.shape_level,e.goods=t.data.data.goods,e.packaging=t.data.data.packaging,e.species=t.data.data.species,e.storage_mode=t.data.data.storage_mode,e.taste_level=t.data.data.taste_level,e.variety=t.data.data.variety})).catch((function(t){n(t)}))},Total:function(e){this.num=e,n(this.num),0==this.num?(this.ShopIng(),n("综合")):1==this.num?(this.sleter?(n("销量升序"),this.getshopDESC()):(this.getshopASC(),n("销量降序")),this.sleter=!this.sleter):2==this.num?(this.sleter2?(n("价格升序"),this.getpriceDESC()):(n("价格降序"),this.getpriceASC()),this.sleter2=!this.sleter2):3==this.num?(t.showToast({title:"功能内测中，敬请期待",icon:"none",duration:2e3}),n("视频选果")):4==this.num&&t.navigateTo({url:"../../pagesII/rankingList/rankingList"})},btnDropChange:function(t){this.isActives1=!this.isActives1,this.dropScreenShow=!this.dropScreenShow,this.dropScreenShow2=!1,this.isActives2=!1,this.isActives1=this.dropScreenShow},btnDropChange2:function(){n("触发"),this.$forceUpdate(),this.isActives2=!this.isActives2,this.dropScreenShow2=!this.dropScreenShow2,this.dropScreenShow=!1,this.isActives1=!1},btnDropChange3:function(){this.drawer=!this.drawer,this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},checkDing:function(t,e,a){this.numNull=t,this.slMangguo=a,this.varietyId=e,this.ShopIng(),this.dropScreenShow=!this.dropScreenShow},checkVariety:function(t,e,a){var i=this.idList,s=i.indexOf(e);-1!==s?i.splice(s,1):i.push(e),this.idList=i},checkDing2:function(t,e,a){this.numNull2=t,this.slPinzhong=e,n(t,e,a)},checkgeng:function(){t.switchTab({url:"../../pages/search/search"})},Sales:function(t){n(t)},Priceda:function(t){n(t)},Videosl:function(t){n(t)},activeGo:function(t,e,a){this.optionList[t]=e,this.tempData[t]=e,this.num=a,console.log(this.optionList)},selectItem:function(t){var e=t.id,a=t.s_name,i=t.label;this.optionList[a]=i,this.tempData[a]=e,console.log("tempData:",this.tempData)},isFalse:function(){this.dropScreenShow2=!1,this.dropScreenShow=!1,this.isActives2=!1,this.isActives=!1},isTrue:function(){this.dropScreenShow2=!0,this.dropScreenShow=!0,this.isActives2=!0,this.isActives=!0},useOutClickSide:function(){this.$refs.easySelect.hideOptions&&this.$refs.easySelect.hideOptions()},getshopDESC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.shop_number DESC"};(0,i.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getshopASC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.shop_number ASC"};(0,i.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getpriceDESC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.platform_price DESC"};(0,i.listing)(s.getGoodsall,e).then((function(e){n(e),t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getpriceASC:function(){var t=this,e={pageNo:1,pageSize:10,order:"A.platform_price ASC"};(0,i.listing)(s.getGoodsall,e).then((function(e){t.goods=e.data.data.goods})).catch((function(t){n(t)}))},getTypeData:function(){var t=this,e=this.idList;this.seleVarieties;if(0===e.length)(0,i.listing)(s.getGoodsall,this.tempData).then((function(e){console.log(e),t.goods=e.data.data.goods}));else{var a=e.join(",");this.tempData.varietyId=a,(0,i.listing)(s.getGoodsall,this.tempData).then((function(e){t.goods=e.data.data.goods}))}this.dropScreenShow2=!this.dropScreenShow2,this.isActives2=!1},clickToConfirm:function(){var t=this;console.log(this.tempData),(0,i.listing)(s.getGoodsall,this.tempData).then((function(e){console.log(e),t.goods=e.data.data.goods})),this.closeDrawer()},ShopIng:function(){var t=this;this.tempData.id=this.varietyId;var e={id:this.varietyId};Promise.all([(0,i.listing)(s.getGoodsall,this.tempData),(0,i.listing)(s.getAttribute,e)]).then((function(e){console.log(e),t.seleVarieties=e[1].data.data,t.color_level=e[0].data.data.color_level,t.facade_level=e[0].data.data.facade_level,t.fruit_level=e[0].data.data.fruit_level,t.shape_level=e[0].data.data.shape_level,t.goods=e[0].data.data.goods,t.packaging=e[0].data.data.packaging,t.species=e[0].data.data.species;for(var a=0;a<t.species.length;a++)t.species[a].isActives=t.activeA;t.storage_mode=e[0].data.data.storage_mode,t.taste_level=e[0].data.data.taste_level,t.variety=e[0].data.data.variety})).catch((function(t){n(t)}))},px:function(e){return t.upx2px(e)+"px"},reset:function(){this.isActives2=!1,this.isActives=!1,this.slPinzhong="品种",this.idList=[],this.tempData.varietyId=""},btnCloseDrop:function(){var t=this;this.scrollTop=1,this.$nextTick((function(){t.scrollTop=0})),this.dropScreenShow=!1,this.attrIndex=-1},clickToSure:function(t){this.isActives2=!1,this.isActives=!1,this.dropScreenShow2=!1,console.log("我真的点击了",t)},showDropdownList:function(){this.selectH=246,this.tabIndex=0},hideDropdownList:function(){this.selectH=0},dropdownItem:function(){n("2")},screen:function(e){var a=e.currentTarget.dataset.index?e.currentTarget.dataset.index:e;console.log(a),this.hideDropdownList(),this.btnCloseDrop(),0==a?this.showDropdownList():1==a?this.tabIndex=1:2==a?this.isList=!this.isList:3==a?this.drawer=!0:4==a&&(n(""),t.navigateTo({url:"../../pagesII/rankingList/rankingList"}))},clickToReset:function(){this.num=-1,this.tempData.fruitLevel="",this.tempData.weight_parameter_1="",this.tempData.weight_parameter_2="",this.tempData.size_parameter_1="",this.tempData.size_parameter_2="",this.tempData.price_parameter_1="",this.tempData.price_parameter_2="",this.tempData.rejectRatio_parameter_1="",this.tempData.rejectRatio_parameter_2="",this.tempData.tasteLevel_parameter_1="",this.tempData.tasteLevel_parameter_2="",this.tempData.colorLevel_parameter_1="",this.tempData.colorLevel_parameter_2="",this.tempData.shapeLevel_parameter_1="",this.tempData.shapeLevel_parameter_2="",this.optionList={tasteLevel_parameter_1:"",tasteLevel_parameter_2:"",colorLevel_parameter_1:"",colorLevel_parameter_2:"",shapeLevel_parameter_1:"",shapeLevel_parameter_2:""}},closeDrawer:function(){this.drawer=!1},back:function(){this.drawer?this.closeDrawer():t.navigateBack()},search:function(){t.navigateTo({url:"../../news/search/search"})},detail:function(e){console.log(e),t.navigateTo({url:"../../pagesIII/productDetail/productDetail?data="+e})}},onReachBottom:function(){if(this.pullUpOn)if(this.loadding=!0,4==this.pageIndex)this.loadding=!1,this.pullUpOn=!1;else{var t=JSON.parse(JSON.stringify(this.goodsList));t=t.splice(0,10),1==this.pageIndex&&(t=t.reverse()),this.goodsList=this.goodsList.concat(t),this.pageIndex=this.pageIndex+1,this.loadding=!1}}};e.default=l}).call(this,a("543d")["default"])},7180:function(t,e,a){},"7c25":function(t,e,a){"use strict";a.r(e);var i=a("3da3"),s=a("2018");for(var o in s)"default"!==o&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("8989");var n,r=a("f0c5"),l=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);e["default"]=l.exports},8989:function(t,e,a){"use strict";var i=a("7180"),s=a.n(i);s.a}},[["398d","common/runtime","common/vendor"]]]);