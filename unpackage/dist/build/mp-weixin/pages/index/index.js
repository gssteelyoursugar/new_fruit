(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"42be":function(t,e,n){"use strict";(function(t){n("abd2");i(n("66fd"));var e=i(n("9659"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},4405:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={tuiIcon:function(){return n.e("components/tui-icon/tui-icon").then(n.bind(null,"f464"))},tuiCountdown:function(){return n.e("components/tui-countdown/tui-countdown").then(n.bind(null,"a045"))},tuiNomore:function(){return n.e("components/tui-nomore/tui-nomore").then(n.bind(null,"e246"))},lygPopup:function(){return n.e("components/lyg-popup/lyg-popup").then(n.bind(null,"ab96"))}},a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"5fc0":function(t,e,n){},"86f4":function(t,e,n){"use strict";var i=n("5fc0"),a=n.n(i);a.a},9659:function(t,e,n){"use strict";n.r(e);var i=n("4405"),a=n("9c6c");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("86f4");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"48316972",null,!1,i["a"],s);e["default"]=c.exports},"9c6c":function(t,e,n){"use strict";n.r(e);var i=n("a7a4"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},a7a4:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=n("2f62"),o=n("09cc"),s=n("0efb");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){n.e("pages/index/components/weather").then(function(){return resolve(n("8d84"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("pages/index/components/banner").then(function(){return resolve(n("a19e"))}.bind(null,n)).catch(n.oe)},g=console,f=g.log,h=!0,p={components:{Weather:d,Banner:l},data:function(){var t;return t={address:"",ApproveStatus:0,itemList:[{title:"首页",icon:"home"},{title:"收藏",icon:"star"},{title:"分享",icon:"partake"}],show:!1,newsList:["致力发展负责任的人工智能 中国发布八大治理原则","格兰仕暗示拜访拼多多后遭天猫打压，拼多多高层赞其有勇气","阿里计划将每股普通股拆为8股，增加筹资灵活性"],NewGoods:[],WxActivityList:[],WeatherHide:!0,startTime:0,endTime:0,createTime:0,ts:0,dd1:0,hh1:23,mm:0,ss1:59,hideing:0,num:0,ranking:["销量榜","评价榜","关注榜","回购榜"],imageUrl:"/static/images/paihang@2x.png",rankBgUrl:"/static/images/paihangbang@2x.png",height:84,scrollH:0,opcity:0,iconOpcity:.5,bannerIndex:0,menuShow:!1,popupShow:!1,value:1,collected:!1,WxActivityID:"",IndexGoods:[],WxActivity:{},WxTopNavigationBar:[],WxPostersBottomAdve:[],WxPublicMsg:[],WxPublicMsgID:"",WxIndexViewpager:[],HotVarieties:[],url:"http://192.168.1.10:8980/"},u(t,"opcity",0),u(t,"scrollH",0),u(t,"height",84),u(t,"heightg",84),u(t,"top",60),u(t,"iconOpcity",.5),u(t,"hideing",0),u(t,"num",0),u(t,"Sumify","1"),u(t,"pullUpOn",!0),u(t,"loadding",!1),u(t,"pageIndex",1),u(t,"praiseNum",0),u(t,"praiseNum1",0),u(t,"showSearch",!1),u(t,"showSearch1",!1),u(t,"key","0619951c6f113f019b42f0bdc2a0e580"),u(t,"webkey","0b327e5c35240fd476d7b728bf6c825f"),u(t,"city",""),u(t,"citys",""),u(t,"temperature",""),u(t,"banner",["6.jpg","6.jpg","6.jpg","6.jpg","6.jpg"]),u(t,"flexing",[{title:"推荐好货",name:"猜你喜欢"},{title:"实时鲜果",name:"今天辛苦了"},{title:"产地直供",name:"一手货源"}]),u(t,"dataList",[{name:"销量排行",value:"order_total",title:"跟榜买 不愁卖",imgsrc:"../../static/images/baixiangguo1.png"},{name:"评价排行",value:"evaluate",title:"好货靠口碑",imgsrc:"../../static/images/niuyouguo1.png"},{name:"关注排行",value:"follow",title:"大家都关注",imgsrc:"../../static/images/putao1.png"},{name:"复购排行",value:"back",title:"买了又买",imgsrc:"../../static/images/pingguo1.png"}]),t},methods:(i={getMerchants:function(){var e=this,n=t.getStorageSync("usermen"),i={token:n};(0,o.listing)(s.getClient,i).then((function(t){e.ApproveStatus=t.data.data.approveStatus})).catch((function(t){f(t)}))},rtBubble:function(){this.$refs.rtBubble.toggle()},topBubble:function(){this.show=!this.show},itemClick:function(t){var e=["首页","收藏","分享"][t.index];this.tui.toast("您点击了：".concat(e))},golook:function(){t.navigateTo({url:"../../pagesII/Recently/Recently"})},popupState:function(t){},goTimeInfo:function(e,n,i,a){t.navigateTo({url:"../../pagesII/timeInfo/timeInfo?id="+e+"&content="+n+"&createDate="+a+"&title="+i})},endOfTime:function(){console.log("倒计时结束")},hrefKing:function(e){var n="";switch(e){case 0:n="../../pagesII/ImportedFruit/ImportedFruit";break;case 1:n="../../pagesII/hotFruit/hotFruit";break;case 2:n="../../pagesII/seasonal/seasonal";break;case 3:n="../../pagesII/superValue/superValue";break;case 4:n="../../pagesII/Recently/Recently";break;default:break}n?t.navigateTo({url:n}):t.showToast({title:"功能未完成~",icon:"none"})},goKingarea:function(e){t.navigateTo({url:"../../pagesII/kingarea/kingarea?title="+title})},goMessage:function(){t.navigateTo({url:"../../pagesII/message/message"})},gotoGun:function(){t.navigateTo({url:"../../pagesII/productList/productList"})},onPageScroll:function(t){this.opcity=1,this.WeatherHide=!1,0===t.scrollTop&&(this.opcity=0,this.WeatherHide=!0)},getUserInfo:function(t){if(this.userInfo=t.detail.userInfo,t.detail.userInfo){var e=t.detail.userInfo;this.wxCode(e.avatarUrl,e.nickName)}},wxCode:function(t,e){var n=this;wx.login({success:function(i){var a=i.code;n.wxLogin(t,e,a)},fail:function(t){f(t)}})},wxLogin:function(e,n,i){var a=this,s={code:i};(0,o.publicing)(loginis,s).then((function(e){t.setStorageSync("usermen",e.data.token),a.ifUser()})).catch((function(t){f(t)}))},ifUser:function(){var e=t.getStorageSync("usermen");e?(t.showToast({title:"已登录",duration:2e3}),this.wxlogin=!0,this.usering=e):(t.showToast({title:"请登陆",duration:2e3}),this.wxlogin=!1)},getHomelist:function(){var e=this,n=t.getStorageSync("usermen"),i={pageNo:"1",pageSize:"30",token:n};(0,o.listing)(s.getIndex,i).then((function(t){e.address=t.data.data.address,e.HotVarieties=t.data.data.HotVarieties,e.WxTopNavigationBar=t.data.data.WxTopNavigationBar,e.WxIndexViewpager=t.data.data.WxIndexViewpager,e.WxPublicMsg=t.data.data.WxPublicMsg,e.WxPublicMsgID=t.data.data.WxPublicMsg.id,e.WxPostersBottomAdve=t.data.data.WxPostersBottomAdve,e.NewGoods=t.data.data.NewGoods.goods,e.WxActivity=t.data.data.WxActivity,e.WxActivityID=t.data.data.WxActivity.id,e.WxActivityList=t.data.data.WxActivity.list,e.startTime=t.data.data.WxActivity.startTime,e.endTime=t.data.data.WxActivity.endTime,e.createTime=t.data.data.WxActivity.createTime,e.ts=(e.endTime-e.createTime)/1e3,e.dd=parseInt(e.ts/60/60/24,10),e.hh=parseInt(e.ts/60/60%24,10),e.mm=parseInt(e.ts/60%60),e.ss=parseInt(e.ts%60,10),f(e.dd+"天"+e.hh+"时"+e.mm+"分"+e.ss+"秒")})).catch((function(t){console.log(t)}))},getIndexClass:function(){var t=this,e={pageNo:"1",pageSize:"30",indexClassify:this.Sumify};(0,o.listing)(s.getClassify,e).then((function(e){var n=e.data.data.data;for(var i in n)n[i].praiseNumber=t.numConvert(n[i].praiseNumber);for(var a in n)n[a].total=t.numConvert(n[a].total);t.IndexGoods=n})).catch((function(t){f(t)}))},numConvert:function(t){return t>=1e4?t=Math.round(t/1e3)/10+"万":t>=1e3&&(t=Math.round(t/100)/10+"千"),t}},u(i,"numConvert",(function(t){return t>=1e4?t=Math.round(t/1e3)/10+"w":t>=1e3&&(t=Math.round(t/100)/10+"k"),t})),u(i,"flexClick",(function(t){this.num=t,0===this.num?(this.Sumify=1,this.getIndexClass()):1===this.num?(this.Sumify=2,this.getIndexClass()):2===this.num&&(this.Sumify=3,this.getIndexClass())})),u(i,"goLimit",(function(){var e=this.WxActivityID;t.navigateTo({url:"../../pagesII/Limit/Limit?id="+e})})),u(i,"fruitGo",(function(){t.navigateTo({url:"../../pagesII/fruitList/fruitList"})})),u(i,"goToRank",(function(e,n){t.navigateTo({url:"../../pagesII/rankingList/rankingList?index="+e+"&value="+n})})),u(i,"gotoBreed",(function(e,n){t.navigateTo({url:"../../pagesII/productList/productList?name="+e+"&id="+n})})),u(i,"gotoList",(function(e){t.navigateTo({url:"../../pagesIII/productDetail/productDetail?id="+e})})),u(i,"onPullDownRefresh",(function(){this.getMerchants(),this.getHomelist(),this.getIndexClass();var e=JSON.parse(JSON.stringify(this.IndexGoods));e=e.splice(0,10),this.IndexGoods=e,this.pageIndex=1,this.pullUpOn=!0,this.loadding=!1,t.stopPullDownRefresh(),t.showLoading({title:"刷新中"}),setTimeout((function(){t.hideLoading()}),1e3)})),u(i,"onReachBottom",(function(){if(this.pullUpOn)if(this.loadding=!0,1==this.pageIndex)t.showLoading({title:"加载中"}),t.hideLoading(),this.loadding=!1,this.pullUpOn=!1;else{var e=JSON.parse(JSON.stringify(this.IndexGoods));e=e.splice(0,10),1==this.pageIndex&&(t.showLoading({title:"刷新中"}),e=e.reverse()),this.IndexGoods=this.IndexGoods.concat(e),this.pageIndex=this.pageIndex+1,t.hideLoading(),this.loadding=!1}})),u(i,"praise",(function(t){this.IndexGoods[t].showSearch1||(this.IndexGoods[t].showSearch1=!0,this.IndexGoods[t].praiseNum1++)})),u(i,"praise1",(function(t){h&&(this.showSearch1=!this.showSearch1,this.praiseNum1++,h=!1)})),u(i,"scanCode",(function(){t.scanCode({scanType:["barCode"],success:function(e){t.showModal({title:"提示",content:"条形码类型：".concat(e.scanType,"\n\t\t\t\t\t\t\t\t   条形码内容：").concat(e.result),success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}})}})})),u(i,"tian",(function(e){var n=this;t.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",method:"GET",data:{key:this.webkey,city:e},success:function(t){n.temperature=t.data.lives[0].temperature,n.citys=t.data.lives[0].city}})})),i),onNavigationBarButtonTap:function(t){0===t.index&&this.$refs.rtBubble.toggle()},onShow:function(){this.getMerchants(),this.getHomelist()},onShareAppMessage:function(){return{title:"测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果测试圈果",imageUrl:"../../static/images/taozi.jpg"}},onLoad:function(){this.getMerchants(),this.getIndexClass(),this.getHomelist();var t='{"id":1301422737316712448}',e=t.match(/\d{17,}/)[0];t=t.replace(e,'"'.concat(e,'"'));JSON.parse(t);wx.getMenuButtonBoundingClientRect(),setTimeout((function(){}),5e3)},mounted:function(){},computed:c(c({},(0,a.mapState)(["screendata"])),{},{count:function(){this.takeshop=this.screendata.screenarr}})};e.default=p}).call(this,n("543d")["default"])}},[["42be","common/runtime","common/vendor"]]]);